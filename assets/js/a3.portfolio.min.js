function a3_portfolio_getUrlVars(t){try{for(var o,i=[],e=window.location.href.slice(window.location.href.indexOf(t)+1).split("_"),a=0;a<e.length;a++)e[a]=e[a].replace("%3D","="),o=e[a].split("="),i.push(o[0]),i[o[0]]=o[1];return i}catch(t){}}function a3_portfolio_updateURLParameter(t){document.body.scrollTop;if(""==t&&window.location.href.indexOf("#")<0)return!1;window.location.pathname.split("#")[0].split("#")[0];void 0===t&&(t=""),0==t.length?par="#":par="#"+t,history.pushState?history.pushState(null,null,par):location.hash=par}function a3_portfolio_isiPhone(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")}function a3_portfolio_is_iOS_8(){return!("600.1.4"!=jQuery.browser.version&&!~navigator.userAgent.indexOf("OS 8_"))}function a3_portfolio_detectMobile(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function a3_portfolio_centerpdv(){try{var t=jQuery("body").find(".a3-portfolio-expander-popup"),o=jQuery("body").width()/2-t.width()/2;t.css({left:o+"px"})}catch(t){}}function a3_portfolio_removeActiveThumbs(){jQuery(".a3-portfolio-box-content").find(".a3-portfolio-item").each(function(){jQuery(this).removeClass("active"),jQuery(this).hasClass("latest-active")||jQuery(this).find("div.a3-portfolio-card-overlay").fadeOut(200)})}function a3_portfolio_closeDetailView(t,o){var i=!jQuery.support.opacity,e=9==document.documentMode;jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery(".a3-portfolio-container").removeClass("a3-portfolio-fixed-scroll");var a=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){a.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(a.data("interval")),a.animate({height:"0px",opacity:"0"},{duration:o,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(a.data("itemstomove"),0,o)),setTimeout(function(){jQuery(".a3-portfolio-container").each(function(){0;var t=jQuery(this).find(".a3-portfolio-box-content");t.data("height",t.height())}),setTimeout(function(){},o)},o),i||e||a3_portfolio_updateURLParameter("")},150)}function add_arrow_active_thumb(){var t=jQuery("body").find(".a3-portfolio-item.active");jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery("body").append('<div class="a3-portfolio-activate-up-arrow" style="opacity: 0;"></div>');var o=jQuery(".a3-portfolio-activate-up-arrow"),i=t.offset().left+(t.width()/2-10);thumb_pos_top=t.offset().top+t.height()+parseInt(t.css("marginBottom"),0)-12,o.css({top:thumb_pos_top,left:i,display:"block",opacity:1})}function a3_portfolio_moveThumbs(t,o,i){var e=!jQuery.support.opacity,a=9==document.documentMode;jQuery.each(t,function(){var t=jQuery(this);t.stop(!0),t.animate({top:t.data("top")+o+"px"},{duration:i,queue:!1})});jQuery(".a3-portfolio-container").each(function(){0;var t=jQuery(this).find(".a3-portfolio-box-content"),r=t.data("height");t.find(".a3-portfolio-item.active").length>0&&(r+=o),e||a?(t.stop(!0),t.animate({height:r+"px"},{duration:i,queue:!1})):t.css({height:Math.round(r)+"px"})})}jQuery(document).ready(function(){var t=jQuery(window),o=a3_portfolio_script_params.number_columns,i=a3_portfolio_script_params.card_image_height_fixed,e=a3_portfolio_script_params.desktop_expander_top_alignment,a=a3_portfolio_script_params.mobile_expander_top_alignment,r=jQuery("html").width(),n=!1,l=null,s=0,p=600,f=600,c=a3_portfolio_getUrlVars("#"),d=!jQuery.support.opacity,u=9==document.documentMode,m=!1;function h(t){var o=0,i=jQuery("#wpadminbar");i.length>0&&(o=i.outerHeight());var e=a3_portfolio_script_params.desktop_expander_top_alignment,a=a3_portfolio_script_params.mobile_expander_top_alignment,r=t.find(".a3-portfolio-item.active");if(jQuery("html").width()<=600)var n=r.offset().top-20-a;else n=r.offset().top-o-20-e;jQuery("body,html").animate({scrollTop:n},{duration:f,queue:!1})}function _(t,o,i){jQuery("body").find(".a3-portfolio-activate-up-arrow").css({opacity:1}),currentTop=i.position().top,thumbOffsetTop=i.offset().top;var e=[];o.find(".a3-portfolio-item").each(function(){var t=jQuery(this);t.position().top>currentTop&&e.push(t)}),jQuery.each(e,function(){var t=jQuery(this);t.data("oldPos",t.position().top)}),o.data("height"),o.data("height",o.height()),jQuery("body").append(a3_portfolio_script_params.expander_template).find(".a3-portfolio-inner-wrap").append(i.children(".a3-portfolio-item-expander-content").html());var a=jQuery("body").find(".a3-portfolio-expander-popup");a.css({maxWidth:jQuery("body").innerWidth()});var r=a.find(".closebutton"),n=a.find(".a3-portfolio-inner-wrap"),l=parseInt(n.css("paddingBottom"),0)+parseInt(n.css("paddingTop"),0),s=0;if(n.width()<=586){a.addClass("a3-portfolio-expander-popup-mobile");s=50}else{a.removeClass("a3-portfolio-expander-popup-mobile");s=0}r.click(function(){h(o),a3_portfolio_closeDetailView(o,p)}),a.children(".a3-portfolio-loading").fadeIn(),a.animate({height:"300px"},{duration:p,queue:!1}),a.data("itemstomove",e),a.css({top:thumbOffsetTop+i.height()+parseInt(i.css("marginBottom"),0)-2+"px"}),add_arrow_active_thumb(),a3_portfolio_centerpdv(),t.imagesLoaded(function(){var t=n.height()+s+l+parseInt(a.css("marginBottom"),0);try{new Function(i.data("callback"))()}catch(t){}jQuery.each(e,function(){var t=jQuery(this);t.data("top",parseInt(t.position().top,0))}),a.animate({height:Math.round(n.height()+l)+"px"},{duration:p,queue:!1,complete:function(){a.children(".a3-portfolio-loading").fadeOut()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e,t,p);var o={action:"a3_portfolio_set_cookie",portfolio_id:a.find(".a3-portfolio-item-image-container").attr("data-portfolioId"),lang:a3_portfolio_script_params.lang};jQuery.post(a3_portfolio_script_params.ajax_url,o,function(t){}),jQuery("body").trigger("a3_portfolio_open_expander")})}1==a3_portfolio_script_params.rtl&&(m=!0),jQuery(".a3-portfolio-menus-container").find("ul.filter li").each(function(){var t=jQuery(this).children("a").attr("data-filter"),o=jQuery(this).parents(".a3-portfolio-container");(".a3-portfolio-item"==t||o.find(".a3-portfolio-item"+t).length>0)&&jQuery(this).show()}),a3_portfolio_script_params.have_filters_script||jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),e=jQuery(this).find(".a3-portfolio-box-content"),a=jQuery(this).data("column");if(void 0!==a&&(o=a),r<=767&&r>=379&&o>2&&(o=2),0!=i){var s=e.find(".a3-portfolio-item").first().find(".a3-portfolio-item-block").innerWidth();s>50&&e.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(i)*s/100)}var p=t.innerWidth()/o;p>=300&&e.find(".a3-portfolio-item-block img").each(function(){void 0!==jQuery(this).attr("sizes")&&jQuery(this).attr("sizes","(max-width: "+p+"px) 100vw, "+p+"px")});var f=t.find(".a3-portfolio-menus-container li a.active").attr("data-filter");void 0===f&&(f=".a3-portfolio-item"),e.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=e.find(f),all_items_selector.each(function(t,o){0==t&&jQuery(this).addClass("a3-portfolio-item-first"),t==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),e.masonry({isRTL:m,itemSelector:".a3-portfolio-item",columnWidth:e.parent().width()/o,gutterWidth:(e.width()-e.parent().width())/o,transitionDuration:0}),e.masonry("on","layoutComplete",function(o,i){console.log("[a3 Portfolio] - Start load the layout");var a=t.find(".a3-portfolio-menus-container li a.active").attr("data-filter");if(void 0===a&&(a=".a3-portfolio-item"),e.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=e.find(a),all_items_selector.each(function(t,o){0==t&&jQuery(this).addClass("a3-portfolio-item-first"),t==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),c[0].split("item-").length>1&&0==n){n=!0;var r=parseInt(c[0].split("item-")[1],0),s=null,p=null;jQuery("body").find(".a3-portfolio-item").each(function(t,o){t==r&&(s=jQuery(this).find(".active.item img"),p=jQuery(this).find(".a3-portfolio-card-image-container img"))});var f=s.attr("data-original");void 0!==f&&!1!==f&&(s.attr("src",f),s.removeAttr("data-original"));var d=s.attr("data-osrcset");void 0!==d&&!1!==d&&(s.attr("srcset",d),s.removeAttr("data-osrcset")),s.removeClass("a3-portfolio-large-lazy"),s.imagesLoaded(function(){l=setInterval(function(){clearInterval(l),p.trigger("click")},3e3)})}})}),t.bind("load",function(){setTimeout(function(){console.log("[a3 Portfolio] - Start Load First Large Images inside the exapander of all Portfolio Items"),jQuery(".a3-portfolio-container").each(function(){jQuery(this).find("img.a3-portfolio-large-lazy").each(function(){var t=jQuery(this).attr("data-original");void 0!==t&&!1!==t&&(jQuery(this).attr("src",t),jQuery(this).removeAttr("data-original"));var o=jQuery(this).attr("data-osrcset");void 0!==o&&!1!==o&&(jQuery(this).attr("srcset",o),jQuery(this).removeAttr("data-osrcset")),jQuery(this).removeClass("a3-portfolio-large-lazy")})})},15e3)}),jQuery(document).on("click",".pg_grid_content",function(){var t=jQuery(this),o=jQuery("body").find(".a3-portfolio-item.active"),i=(o.parents(".a3-portfolio-box-content"),jQuery(this).parents(".a3-portfolio-inner-wrap").find(".a3-portfolio-item-image-container")),e=t.attr("data-osrcset");i.find("img").attr("srcset",""),void 0!==e&&!1!==e&&i.find("img").attr("srcset",e),i.find("img").attr("src",t.attr("data-originalfull")),i.find(".a3-portfolio-loading").fadeIn(100,function(){i.find("img").imagesLoaded(function(){i.find(".a3-portfolio-loading").fadeOut(100),t.parent(".pg_grid").siblings(".pg_grid").removeClass("current_img"),t.parent(".pg_grid ").addClass("current_img");var e="";""!=t.attr("data-caption")&&(e='<div class="portfolio_caption_text">'+t.attr("data-caption")+"</div>"),i.find(".caption_text_container").html(e);var r=jQuery("body").find(".a3-portfolio-expander-popup"),n=r.find(".a3-portfolio-inner-wrap"),l=parseInt(n.css("paddingBottom"),0)+parseInt(n.css("paddingTop"),0),s=n.height()+l+parseInt(r.css("marginBottom"),0);if(r.height(jQuery(".a3-portfolio-inner-wrap").outerHeight()),r.height.length&&a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(r.data("itemstomove"),s,p),n.width()<=586){var f=o.offset().top+o.outerHeight()-a;jQuery("body,html").animate({scrollTop:f},{duration:p,queue:!1})}})})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-close",function(){var t=jQuery(this).parents(".a3-portfolio-container");t.find(".a3-portfolio-menus-container").slideUp("fast",function(){t.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-close").removeClass("fa-times").addClass("a3-portfolio-icon-list").addClass("fa-bars")})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-list",function(){var t=jQuery(this).parents(".a3-portfolio-container");t.find(".a3-portfolio-menus-container").slideDown("fast",function(){t.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-list").removeClass("fa-bars").addClass("a3-portfolio-icon-close").addClass("fa-times")})}),jQuery(document).on("click",".a3-portfolio-menus-container li a",function(){var t,o,i,e=jQuery(this).parents(".a3-portfolio-container"),a=e.find(".a3-portfolio-box-content");if(jQuery(".a3-portfolio-container").find(".a3-portfolio-item.active").length>0){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var r=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){r.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(r.data("interval")),r.animate({height:"0px",opacity:"0"},{duration:p,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(r.data("itemstomove"),0,p)),setTimeout(function(){a.data("height",a.height())},p),d||u||a3_portfolio_updateURLParameter("")},150)}if(e.find(".a3-portfolio-menus-container li a").removeClass("active"),jQuery(this).addClass("active"),!a3_portfolio_script_params.have_filters_script){var n=jQuery(this).attr("data-filter");t=a,o=n,i=[],jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&i.push(filter_class)})}),void 0!==o&&""!=o&&i.push(o),attribute_term_classes_text="",jQuery.each(i,function(o,i){t.find(".a3-portfolio-item").not(i).hide(),attribute_term_classes_text+=i}),t.find(".a3-portfolio-item"+attribute_term_classes_text).show(),t.masonry()}return!1}),jQuery(document).on("click","ul.attribute-filter li a",function(){var t,o=jQuery(this).parents("ul.attribute-filter"),i=jQuery(this).parent("li");return i.hasClass("remove-filter")?(o.find("li").removeClass("active"),i.slideUp()):i.hasClass("active")?(i.removeClass("active"),o.find("li.remove-filter").slideUp()):(o.find("li").removeClass("active"),i.addClass("active"),o.find("li.remove-filter").slideDown()),jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),o=t.find(".a3-portfolio-box-content");if(t.find(".a3-portfolio-item.active").length>0){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var i=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){i.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(i.data("interval")),i.animate({height:"0px",opacity:"0"},{duration:p,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(i.data("itemstomove"),0,p)),setTimeout(function(){o.data("height",o.height())},p),d||u||a3_portfolio_updateURLParameter("")},150)}}),a3_portfolio_script_params.have_filters_script||(t=[],jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&t.push(filter_class)})}),jQuery(".a3-portfolio-container").each(function(){portfolio_boxes=jQuery(this).find(".a3-portfolio-box-content"),filter_class=jQuery(this).find(".a3-portfolio-menus-container li a.active").attr("data-filter"),"undefined"!=typeof filter_class&&""!=filter_class&&t.push(filter_class),attribute_term_classes_text="",jQuery.each(t,function(t,o){portfolio_boxes.find(".a3-portfolio-item").not(o).hide(),attribute_term_classes_text+=o}),portfolio_boxes.find(".a3-portfolio-item"+attribute_term_classes_text).show(),portfolio_boxes.masonry()})),!1}),jQuery(document).on("mouseenter touchstart",".a3-portfolio-item",function(){jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeIn(300)}),jQuery(document).on("mouseleave",".a3-portfolio-item",function(){jQuery(this).hasClass("active")||jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeOut(200)}),jQuery(document).on("click tap",".a3-portfolio-card-opens-expander",function(){var t=jQuery(this).parents(".a3-portfolio-item"),o=jQuery(this).parents(".a3-portfolio-container").find(".a3-portfolio-box-content");if(jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),t.hasClass("active"))h(o),t.removeClass("active"),a3_portfolio_closeDetailView(o,p);else{console.log("[a3 Portfolio] - Loading all thumb images inside expander of Portfolio Index - "+t.data("index")),t.find("div.a3-portfolio-gallery-thumb-lazy").each(function(){void 0!==jQuery(this).attr("data-bg")&&(jQuery(this).css("background-image","url("+jQuery(this).attr("data-bg")+")"),jQuery(this).removeClass("a3-portfolio-gallery-thumb-lazy"))}),a3_portfolio_updateURLParameter("item-"+t.index(".a3-portfolio-box-content .a3-portfolio-item")),t.addClass("latest-active"),a3_portfolio_removeActiveThumbs(),t.removeClass("latest-active"),t.addClass("active");var i=t.find(".a3-portfolio-item-expander-content .active.item img"),r=i.attr("data-original");void 0!==r&&!1!==r&&(i.attr("src",r),i.removeAttr("data-original"));var n=i.attr("data-osrcset");void 0!==n&&!1!==n&&(i.attr("srcset",n),i.removeAttr("data-osrcset")),i.removeClass("a3-portfolio-large-lazy");var l=jQuery("body").find(".a3-portfolio-expander-popup");if(l.length){clearInterval(l.data("interval")),l.animate({height:"0px",opacity:"0"},{duration:p,complete:function(){jQuery(this).remove()}});var c=p+50;a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(l.data("itemstomove"),0,p),setTimeout(function(){var r=jQuery("#wpadminbar");r.length>0&&(s=r.outerHeight());var n=t.outerHeight();if(jQuery("html").width()<=600)var l=t.offset().top+n-a;else l=t.offset().top-s+n-e;jQuery("body,html").animate({scrollTop:l},{duration:f,queue:!1}),_(i,o,t)},c)}else{var d=jQuery("#wpadminbar");d.length>0&&(s=d.outerHeight());var u=t.outerHeight();if(jQuery("html").width()<=600)var m=t.offset().top+u-a;else m=t.offset().top-s+u-e;jQuery("body,html").animate({scrollTop:m},{duration:f,queue:!1}),_(i,o,t)}}return!1}),jQuery(window).on("orientationchange",function(t){jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),o=t.find(".a3-portfolio-box-content"),i=a3_portfolio_script_params.number_columns,e=jQuery("html").width(),a=t.data("column");void 0!==a&&(i=a),e<=767&&e>=379&&i>2&&(i=2),a3_portfolio_closeDetailView(o,p),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||setTimeout(function(){o.masonry({isRTL:m,itemSelector:".a3-portfolio-item",columnWidth:o.parent().width()/i,gutterWidth:(o.width()-o.parent().width())/i})},500)})}),jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),o=t.find(".a3-portfolio-box-content"),i=a3_portfolio_script_params.number_columns,e=jQuery("html").width(),a=t.data("column");void 0!==a&&(i=a),e<=767&&e>=379&&i>2&&(i=2),d?a3_portfolio_script_params.have_filters_script||o.masonry({isRTL:m,itemSelector:".a3-portfolio-item",columnWidth:o.parent().width()/i,gutterWidth:(o.width()-o.parent().width())/i}):jQuery(window).bind("resize",function(){jQuery("html").width()>767&&(a3_portfolio_closeDetailView(o,p),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||o.masonry({isRTL:m,itemSelector:".a3-portfolio-item",columnWidth:o.parent().width()/i,gutterWidth:(o.width()-o.parent().width())/i}))})}),0!=i&&jQuery(window).bind("resize",function(){jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this).find(".a3-portfolio-box-content"),o=t.find(".a3-portfolio-item-first").find(".a3-portfolio-item-block").innerWidth();o>10&&t.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(i)*o/100)})})});