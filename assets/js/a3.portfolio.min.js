function a3_portfolio_getUrlVars(a){try{for(var b,c=[],d=window.location.href.slice(window.location.href.indexOf(a)+1).split("_"),e=0;e<d.length;e++)d[e]=d[e].replace("%3D","="),b=d[e].split("="),c.push(b[0]),c[b[0]]=b[1];return c}catch(a){}}function a3_portfolio_updateURLParameter(a){document.body.scrollTop;if(""==a&&0>window.location.href.indexOf("#"))return!1;var b=window.location.pathname.split("#")[0],c=b.split("#")[0];"undefined"==typeof a&&(a=""),par=0==a.length?"#":"#"+a,history.pushState?history.pushState(null,null,par):location.hash=par}function a3_portfolio_isiPhone(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")}function a3_portfolio_is_iOS_8(){return!!(~navigator.userAgent.indexOf("OS 8_"))}function a3_portfolio_detectMobile(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function a3_portfolio_centerpdv(){try{var a=jQuery("body").find(".a3-portfolio-expander-popup"),b=jQuery("body").width()/2-a.width()/2;a.css({left:b+"px"})}catch(a){}}function a3_portfolio_removeActiveThumbs(){jQuery(".a3-portfolio-box-content").find(".a3-portfolio-item").each(function(){jQuery(this).removeClass("active"),jQuery(this).hasClass("latest-active")||jQuery(this).find("div.a3-portfolio-card-overlay").fadeOut(200)})}function a3_portfolio_closeDetailView(a,b){var c=false,d=9==document.documentMode;jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery(".a3-portfolio-container").removeClass("a3-portfolio-fixed-scroll");var e=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){e.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(e.data("interval")),e.animate({height:"0px",opacity:"0"},{duration:b,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e.data("itemstomove"),0,b)),setTimeout(function(){var a=0;jQuery(".a3-portfolio-container").each(function(){a++;var b=jQuery(this).find(".a3-portfolio-box-content");b.data("height",b.height())}),setTimeout(function(){},b)},b),c||d||a3_portfolio_updateURLParameter("")},150)}function add_arrow_active_thumb(){var a=jQuery("body").find(".a3-portfolio-item.active");jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery("body").append("<div class=\"a3-portfolio-activate-up-arrow\" style=\"opacity: 0;\"></div>");var b=jQuery(".a3-portfolio-activate-up-arrow"),c=a.offset().left+(a.width()/2-10);thumb_pos_top=a.offset().top+a.height()+parseInt(a.css("marginBottom"),0)-12,b.css({top:thumb_pos_top,left:c,display:"block",opacity:1})}function a3_portfolio_moveThumbs(a,b,c){var d=false,e=9==document.documentMode;jQuery.each(a,function(){var a=jQuery(this);a.stop(!0),a.animate({top:a.data("top")+b+"px"},{duration:c,queue:!1})});var f=0;jQuery(".a3-portfolio-container").each(function(){f++;var a=jQuery(this).find(".a3-portfolio-box-content"),g=a.data("height");0<a.find(".a3-portfolio-item.active").length&&(g+=b),d||e?(a.stop(!0),a.animate({height:g+"px"},{duration:c,queue:!1})):a.css({height:Math.round(g)+"px"})})}jQuery(document).ready(function(){function a(a,b){var c=[];jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&c.push(filter_class)})}),"undefined"!=typeof b&&""!=b&&c.push(b),attribute_term_classes_text="",jQuery.each(c,function(b,c){a.find(".a3-portfolio-item").not(c).hide(),attribute_term_classes_text+=c}),a.find(".a3-portfolio-item"+attribute_term_classes_text).show(),a.masonry()}function b(){var a=[];jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&a.push(filter_class)})}),jQuery(".a3-portfolio-container").each(function(){portfolio_boxes=jQuery(this).find(".a3-portfolio-box-content"),filter_class=jQuery(this).find(".a3-portfolio-menus-container li a.active").attr("data-filter"),"undefined"!=typeof filter_class&&""!=filter_class&&a.push(filter_class),attribute_term_classes_text="",jQuery.each(a,function(a,b){portfolio_boxes.find(".a3-portfolio-item").not(b).hide(),attribute_term_classes_text+=b}),portfolio_boxes.find(".a3-portfolio-item"+attribute_term_classes_text).show(),portfolio_boxes.masonry()})}function c(a){var b=0,c=jQuery("#wpadminbar");0<c.length&&(b=c.outerHeight());var d=a3_portfolio_script_params.desktop_expander_top_alignment,e=a3_portfolio_script_params.mobile_expander_top_alignment,f=0,g=jQuery(".toolbar-ctn");0<g.length&&(f=g.outerHeight());var h=a.find(".a3-portfolio-item.active");if(600>=jQuery("html").width())var i=h.offset().top-f-20-e;else var i=h.offset().top-b-f-20-d;jQuery("body,html").animate({scrollTop:i},{duration:600,queue:!1})}function d(a,b,d){jQuery("body").find(".a3-portfolio-activate-up-arrow").css({opacity:1}),currentTop=d.position().top,thumbOffsetTop=d.offset().top;var e=[];b.find(".a3-portfolio-item").each(function(){var a=jQuery(this);a.position().top>currentTop&&e.push(a)}),jQuery.each(e,function(){var a=jQuery(this);a.data("oldPos",a.position().top)}),"undefined"==typeof b.data("height")?b.data("height",b.height()):b.data("height",b.height()),jQuery("body").append(a3_portfolio_script_params.expander_template).find(".a3-portfolio-inner-wrap").append(d.children(".a3-portfolio-item-expander-content").html());var f=jQuery("body").find(".a3-portfolio-expander-popup");f.css({maxWidth:jQuery("body").innerWidth()});var g=f.find(".closebutton"),h=f.find(".a3-portfolio-inner-wrap"),i=parseInt(h.css("paddingBottom"),0)+parseInt(h.css("paddingTop"),0),j=0;if(586>=h.width()){f.addClass("a3-portfolio-expander-popup-mobile");var j=50}else{f.removeClass("a3-portfolio-expander-popup-mobile");var j=0}g.on('click',function(){c(b),a3_portfolio_closeDetailView(b,600)}),f.children(".a3-portfolio-loading").fadeIn(),f.animate({height:"300px"},{duration:600,queue:!1}),f.data("itemstomove",e),f.css({top:thumbOffsetTop+d.height()+parseInt(d.css("marginBottom"),0)-2+"px"}),add_arrow_active_thumb(),a3_portfolio_centerpdv(),a.imagesLoaded(function(){var a=h.height()+j+i+parseInt(f.css("marginBottom"),0);try{var b=new Function(d.data("callback"));b()}catch(a){}jQuery.each(e,function(){var a=jQuery(this);a.data("top",parseInt(a.position().top,0))}),f.animate({height:Math.round(h.height()+i)+"px"},{duration:600,queue:!1,complete:function(){f.children(".a3-portfolio-loading").fadeOut()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e,a,600);var c=f.find(".a3-portfolio-item-image-container").attr("data-portfolioId"),g={action:"a3_portfolio_set_cookie",portfolio_id:c,lang:a3_portfolio_script_params.lang};jQuery.post(a3_portfolio_script_params.ajax_url,g,function(a){}),jQuery("body").trigger("a3_portfolio_open_expander")})}var e=jQuery(window),f=a3_portfolio_script_params.number_columns,g=a3_portfolio_script_params.card_image_height_fixed,h=a3_portfolio_script_params.desktop_expander_top_alignment,i=a3_portfolio_script_params.mobile_expander_top_alignment,j=jQuery("html").width(),k=!1,l=null,m=0,n=0,o=600,p=600,q=!0,r=a3_portfolio_getUrlVars("#"),s=false,t=9==document.documentMode,u=!1;1==a3_portfolio_script_params.rtl&&(u=!0),jQuery(".a3-portfolio-menus-container").find("ul.filter li").each(function(){var a=jQuery(this).children("a").attr("data-filter"),b=jQuery(this).parents(".a3-portfolio-container");(".a3-portfolio-item"==a||0<b.find(".a3-portfolio-item"+a).length)&&jQuery(this).show()}),a3_portfolio_script_params.have_filters_script||jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=jQuery(this).find(".a3-portfolio-box-content"),c=jQuery(this).data("column");if("undefined"!=typeof c&&(f=c),767>=j&&379<=j&&2<f&&(f=2),!1!=g){var d=b.find(".a3-portfolio-item").first().find(".a3-portfolio-item-block").innerWidth();50<d&&b.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(g)*d/100)}var e=a.innerWidth()/f;300<=e&&b.find(".a3-portfolio-item-block img").each(function(){var a=jQuery(this).attr("sizes");"undefined"!=typeof a&&jQuery(this).attr("sizes","(max-width: "+e+"px) 100vw, "+e+"px")});var h=a.find(".a3-portfolio-menus-container li a.active").attr("data-filter");"undefined"==typeof h&&(h=".a3-portfolio-item"),b.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=b.find(h),all_items_selector.each(function(a){0==a&&jQuery(this).addClass("a3-portfolio-item-first"),a==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),b.on("layoutComplete",function(){console.log("[a3 Portfolio] - Start load the layout");var c=a.find(".a3-portfolio-menus-container li a.active").attr("data-filter");if("undefined"==typeof c&&(c=".a3-portfolio-item"),b.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=b.find(c),all_items_selector.each(function(a){0==a&&jQuery(this).addClass("a3-portfolio-item-first"),a==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),1<r[0].split("item-").length&&!1==k){k=!0;var d=parseInt(r[0].split("item-")[1],0),e=null,f=null,g=null;jQuery("body").find(".a3-portfolio-item").each(function(a){a==d&&(e=jQuery(this).find(".active.item img"),f=jQuery(this).find(".a3-portfolio-card-image-container .a3-portfolio-card-opens-expander"),g=jQuery(this).find(".a3-portfolio-card-viewmore .a3-portfolio-card-opens-expander"))});var h=e.attr("data-original");"undefined"!=typeof h&&!1!==h&&(e.attr("src",h),e.removeAttr("data-original"));var i=e.attr("data-osrcset");"undefined"!=typeof i&&!1!==i&&(e.attr("srcset",i),e.removeAttr("data-osrcset")),e.removeClass("a3-portfolio-large-lazy"),e.imagesLoaded(function(){l=setInterval(function(){clearInterval(l),0<f.length?f.trigger("click"):0<g.length&&g.trigger("click")},3e3)})}}),b.masonry({isRTL:u,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/f,gutterWidth:(b.width()-b.parent().width())/f,transitionDuration:0})}),e.on("load",function(){setTimeout(function(){console.log("[a3 Portfolio] - Start Load First Large Images inside the exapander of all Portfolio Items"),jQuery(".a3-portfolio-container").each(function(){jQuery(this).find("img.a3-portfolio-large-lazy").each(function(){var a=jQuery(this).attr("data-original");"undefined"!=typeof a&&!1!==a&&(jQuery(this).attr("src",a),jQuery(this).removeAttr("data-original"));var b=jQuery(this).attr("data-osrcset");"undefined"!=typeof b&&!1!==b&&(jQuery(this).attr("srcset",b),jQuery(this).removeAttr("data-osrcset")),jQuery(this).removeClass("a3-portfolio-large-lazy")})})},15e3)}),jQuery(document).on("click",".pg_grid_content",function(){var a=jQuery(this),b=jQuery("body").find(".a3-portfolio-item.active"),c=b.parents(".a3-portfolio-box-content"),d=jQuery(this).parents(".a3-portfolio-inner-wrap").find(".a3-portfolio-item-image-container"),e=a.attr("data-osrcset");d.find("img").attr("srcset",""),"undefined"!=typeof e&&!1!==e&&d.find("img").attr("srcset",e),d.find("img").attr("src",a.attr("data-originalfull")),d.find(".a3-portfolio-loading").fadeIn(100,function(){d.find("img").imagesLoaded(function(){d.find(".a3-portfolio-loading").fadeOut(100),a.parent(".pg_grid").siblings(".pg_grid").removeClass("current_img"),a.parent(".pg_grid ").addClass("current_img");var c="";""!=a.attr("data-caption")&&(c="<div class=\"portfolio_caption_text\">"+a.attr("data-caption")+"</div>"),d.find(".caption_text_container").html(c);var e=jQuery("body").find(".a3-portfolio-expander-popup"),f=e.find(".a3-portfolio-inner-wrap"),g=parseInt(f.css("paddingBottom"),0)+parseInt(f.css("paddingTop"),0),h=f.height()+g+parseInt(e.css("marginBottom"),0);if(e.height(jQuery(".a3-portfolio-inner-wrap").outerHeight()),e.height.length&&a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e.data("itemstomove"),h,o),586>=f.width()){var j=b.offset().top+b.outerHeight()-i;jQuery("body,html").animate({scrollTop:j},{duration:o,queue:!1})}})})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-close",function(){var a=jQuery(this).parents(".a3-portfolio-container");a.find(".a3-portfolio-menus-container").slideUp("fast",function(){a.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-close").addClass("a3-portfolio-icon-list").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M48 128c-17.7 0-32 14.3-32 32s14.3 32 32 32H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H48zm0 192c-17.7 0-32 14.3-32 32s14.3 32 32 32H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H48z"/></svg>')})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-list",function(){var a=jQuery(this).parents(".a3-portfolio-container");a.find(".a3-portfolio-menus-container").slideDown("fast",function(){a.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-list").addClass("a3-portfolio-icon-close").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>')})}),jQuery(document).on("click",".a3-portfolio-menus-container li a",function(){var b=jQuery(this).parents(".a3-portfolio-container"),c=b.find(".a3-portfolio-box-content"),d=jQuery(".a3-portfolio-container").find(".a3-portfolio-item.active");if(0<d.length){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var e=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){e.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(e.data("interval")),e.animate({height:"0px",opacity:"0"},{duration:o,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e.data("itemstomove"),0,o)),setTimeout(function(){c.data("height",c.height())},o),s||t||a3_portfolio_updateURLParameter("")},150)}if(b.find(".a3-portfolio-menus-container li a").removeClass("active"),jQuery(this).addClass("active"),!a3_portfolio_script_params.have_filters_script){var f=jQuery(this).attr("data-filter");a(c,f)}return!1}),jQuery(document).on("click","ul.attribute-filter li a",function(){var a=jQuery(this).parents("ul.attribute-filter"),c=jQuery(this).parent("li");return c.hasClass("remove-filter")?(a.find("li").removeClass("active"),c.slideUp()):c.hasClass("active")?(c.removeClass("active"),a.find("li.remove-filter").slideUp()):(a.find("li").removeClass("active"),c.addClass("active"),a.find("li.remove-filter").slideDown()),jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a.find(".a3-portfolio-item.active");if(0<c.length){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var d=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){d.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(d.data("interval")),d.animate({height:"0px",opacity:"0"},{duration:o,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(d.data("itemstomove"),0,o)),setTimeout(function(){b.data("height",b.height())},o),s||t||a3_portfolio_updateURLParameter("")},150)}}),a3_portfolio_script_params.have_filters_script||b(),!1}),jQuery(document).on("mouseenter touchstart",".a3-portfolio-item",function(){jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeIn(300)}),jQuery(document).on("mouseleave",".a3-portfolio-item",function(){jQuery(this).hasClass("active")||jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeOut(200)}),jQuery(document).on("click tap",".a3-portfolio-card-opens-expander",function(){var a=jQuery(this).parents(".a3-portfolio-item"),b=jQuery(this).parents(".a3-portfolio-container"),e=b.find(".a3-portfolio-box-content");if(jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),a.hasClass("active"))c(e),a.removeClass("active"),a3_portfolio_closeDetailView(e,o);else{console.log("[a3 Portfolio] - Loading all thumb images inside expander of Portfolio Index - "+a.data("index")),a.find("div.a3-portfolio-gallery-thumb-lazy").each(function(){"undefined"!=typeof jQuery(this).attr("data-bg")&&(jQuery(this).css("background-image","url("+jQuery(this).attr("data-bg")+")"),jQuery(this).removeClass("a3-portfolio-gallery-thumb-lazy"))}),a3_portfolio_updateURLParameter("item-"+a.index(".a3-portfolio-box-content .a3-portfolio-item")),a.addClass("latest-active"),a3_portfolio_removeActiveThumbs(),a.removeClass("latest-active"),a.addClass("active");var f=a.find(".a3-portfolio-item-expander-content .active.item img"),g=f.attr("data-original");"undefined"!=typeof g&&!1!==g&&(f.attr("src",g),f.removeAttr("data-original"));var j=f.attr("data-osrcset");"undefined"!=typeof j&&!1!==j&&(f.attr("srcset",j),f.removeAttr("data-osrcset")),f.removeClass("a3-portfolio-large-lazy");var k=jQuery("body").find(".a3-portfolio-expander-popup");if(k.length){clearInterval(k.data("interval")),k.animate({height:"0px",opacity:"0"},{duration:o,complete:function(){jQuery(this).remove()}});a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(k.data("itemstomove"),0,o),setTimeout(function(){var b=jQuery("#wpadminbar");0<b.length&&(m=b.outerHeight());var c=jQuery(".toolbar-ctn");0<c.length&&(n=c.outerHeight());var g=a.outerHeight();if(600>=jQuery("html").width())var j=a.offset().top-n+g-i;else var j=a.offset().top-m-n+g-h;jQuery("body,html").animate({scrollTop:j},{duration:p,queue:!1}),d(f,e,a,!1)},o+50)}else{var l=jQuery("#wpadminbar");0<l.length&&(m=l.outerHeight());var q=jQuery(".toolbar-ctn");0<q.length&&(n=q.outerHeight());var r=a.outerHeight();if(600>=jQuery("html").width())var s=a.offset().top-n+r-i;else var s=a.offset().top-m-n+r-h;jQuery("body,html").animate({scrollTop:s},{duration:p,queue:!1}),d(f,e,a)}}return!1}),jQuery(window).on("orientationchange",function(){jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a3_portfolio_script_params.number_columns,d=jQuery("html").width(),e=a.data("column");"undefined"!=typeof e&&(c=e),767>=d&&379<=d&&2<c&&(c=2),a3_portfolio_closeDetailView(b,o),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||setTimeout(function(){b.masonry({isRTL:u,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c})},500)})}),jQuery(document).on("lazyload",".a3-portfolio-thumb-lazy",function(){var a=jQuery(this).parents(".a3-portfolio-container"),b=a.find(".a3-portfolio-box-content");b.masonry()}),jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a3_portfolio_script_params.number_columns,d=jQuery("html").width(),e=a.data("column");"undefined"!=typeof e&&(c=e),767>=d&&379<=d&&2<c&&(c=2),s?!a3_portfolio_script_params.have_filters_script&&b.masonry({isRTL:u,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c}):jQuery(window).on("resize",function(){767<jQuery("html").width()&&(a3_portfolio_closeDetailView(b,o),a3_portfolio_centerpdv(),!a3_portfolio_script_params.have_filters_script&&b.masonry({isRTL:u,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c}))})}),!1!=g&&jQuery(window).on("resize",function(){jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this).find(".a3-portfolio-box-content"),b=a.find(".a3-portfolio-item-first").find(".a3-portfolio-item-block").innerWidth();10<b&&a.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(g)*b/100)})})});