function a3_portfolio_getUrlVars(a){try{for(var c,b=[],d=window.location.href.slice(window.location.href.indexOf(a)+1).split("_"),e=0;e<d.length;e++)d[e]=d[e].replace("%3D","="),c=d[e].split("="),b.push(c[0]),b[c[0]]=c[1];return b}catch(a){}}function a3_portfolio_updateURLParameter(a){document.body.scrollTop;if(""==a&&window.location.href.indexOf("#")<0)return!1;var c=window.location.pathname.split("#")[0];c.split("#")[0];"undefined"==typeof a&&(a=""),0==a.length?par="#":par="#"+a,history.pushState?history.pushState(null,null,par):location.hash=par}function a3_portfolio_isiPhone(){return navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1||navigator.platform.indexOf("iPad")!=-1}function a3_portfolio_is_iOS_8(){return!("600.1.4"!=jQuery.browser.version&&!~navigator.userAgent.indexOf("OS 8_"))}function a3_portfolio_detectMobile(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function a3_portfolio_centerpdv(){try{var a=jQuery("body").find(".a3-portfolio-expander-popup"),b=jQuery("body").width()/2-a.width()/2;a.css({left:b+"px"})}catch(a){}}function a3_portfolio_removeActiveThumbs(){jQuery(".a3-portfolio-box-content").find(".a3-portfolio-item").each(function(){jQuery(this).removeClass("active"),jQuery(this).hasClass("latest-active")||jQuery(this).find("div.a3-portfolio-card-overlay").fadeOut(200)})}function a3_portfolio_closeDetailView(a,b){var c=!jQuery.support.opacity,d=9==document.documentMode;jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery(".a3-portfolio-container").removeClass("a3-portfolio-fixed-scroll");var e=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){e.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(e.data("interval")),e.animate({height:"0px",opacity:"0"},{duration:b,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e.data("itemstomove"),0,b)),setTimeout(function(){var a=0;jQuery(".a3-portfolio-container").each(function(){a++;var b=jQuery(this).find(".a3-portfolio-box-content");b.data("height",b.height())}),setTimeout(function(){},b)},b),c||d||a3_portfolio_updateURLParameter("")},150)}function add_arrow_active_thumb(){var a=jQuery("body").find(".a3-portfolio-item.active");jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery("body").append('<div class="a3-portfolio-activate-up-arrow" style="opacity: 0;"></div>');var b=jQuery(".a3-portfolio-activate-up-arrow"),c=a.offset().left+(a.width()/2-10);thumb_pos_top=a.offset().top+a.height()+parseInt(a.css("marginBottom"),0)-12,b.css({top:thumb_pos_top,left:c,display:"block",opacity:1})}function a3_portfolio_moveThumbs(a,b,c){var d=!jQuery.support.opacity,e=9==document.documentMode;jQuery.each(a,function(){var a=jQuery(this);a.stop(!0),a.animate({top:a.data("top")+b+"px"},{duration:c,queue:!1})});var f=0;jQuery(".a3-portfolio-container").each(function(){f++;var a=jQuery(this).find(".a3-portfolio-box-content"),g=a.data("height");a.find(".a3-portfolio-item.active").length>0&&(g+=b),d||e?(a.stop(!0),a.animate({height:g+"px"},{duration:c,queue:!1})):a.css({height:Math.round(g)+"px"})})}jQuery(document).ready(function(){function r(a,b){var c=[];jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&c.push(filter_class)})}),"undefined"!=typeof b&&""!=b&&c.push(b),attribute_term_classes_text="",jQuery.each(c,function(b,c){a.find(".a3-portfolio-item").not(c).hide(),attribute_term_classes_text+=c}),a.find(".a3-portfolio-item"+attribute_term_classes_text).show(),a.masonry()}function s(){var a=[];jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&a.push(filter_class)})}),jQuery(".a3-portfolio-container").each(function(){portfolio_boxes=jQuery(this).find(".a3-portfolio-box-content"),filter_class=jQuery(this).find(".a3-portfolio-menus-container li a.active").attr("data-filter"),"undefined"!=typeof filter_class&&""!=filter_class&&a.push(filter_class),attribute_term_classes_text="",jQuery.each(a,function(a,b){portfolio_boxes.find(".a3-portfolio-item").not(b).hide(),attribute_term_classes_text+=b}),portfolio_boxes.find(".a3-portfolio-item"+attribute_term_classes_text).show(),portfolio_boxes.masonry()})}function t(a){var b=0,c=jQuery("#wpadminbar");c.length>0&&(b=c.outerHeight());var d=a3_portfolio_script_params.desktop_expander_top_alignment,e=a3_portfolio_script_params.mobile_expander_top_alignment,f=a.find(".a3-portfolio-item.active");if(jQuery("html").width()<=600)var g=f.offset().top-20-e;else var g=f.offset().top-b-20-d;jQuery("body,html").animate({scrollTop:g},{duration:l,queue:!1})}function u(a,b,c){jQuery("body").find(".a3-portfolio-activate-up-arrow").css({opacity:1}),currentTop=c.position().top,thumbOffsetTop=c.offset().top;var d=[];b.find(".a3-portfolio-item").each(function(){var a=jQuery(this);a.position().top>currentTop&&d.push(a)}),jQuery.each(d,function(){var a=jQuery(this);a.data("oldPos",a.position().top)}),"undefined"!=typeof b.data("height")?b.data("height",b.height()):b.data("height",b.height()),jQuery("body").append(a3_portfolio_script_params.expander_template).find(".a3-portfolio-inner-wrap").append(c.children(".a3-portfolio-item-expander-content").html());var e=jQuery("body").find(".a3-portfolio-expander-popup");e.css({maxWidth:jQuery("body").innerWidth()});var f=e.find(".closebutton"),g=e.find(".a3-portfolio-inner-wrap"),h=parseInt(g.css("paddingBottom"),0)+parseInt(g.css("paddingTop"),0),i=0;if(g.width()<=586){e.addClass("a3-portfolio-expander-popup-mobile");var i=50}else{e.removeClass("a3-portfolio-expander-popup-mobile");var i=0}f.click(function(){t(b),a3_portfolio_closeDetailView(b,k)}),e.children(".a3-portfolio-loading").fadeIn(),e.animate({height:"300px"},{duration:k,queue:!1}),e.data("itemstomove",d),e.css({top:thumbOffsetTop+c.height()+parseInt(c.css("marginBottom"),0)-2+"px"}),add_arrow_active_thumb(),a3_portfolio_centerpdv(),a.imagesLoaded(function(){var a=g.height()+i+h+parseInt(e.css("marginBottom"),0);try{var b=new Function(c.data("callback"));b()}catch(a){}jQuery.each(d,function(){var a=jQuery(this);a.data("top",parseInt(a.position().top,0))}),e.animate({height:Math.round(g.height()+h)+"px"},{duration:k,queue:!1,complete:function(){e.children(".a3-portfolio-loading").fadeOut()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(d,a,k);var f=e.find(".a3-portfolio-item-image-container").attr("data-portfolioId"),j={action:"a3_portfolio_set_cookie",portfolio_id:f,lang:a3_portfolio_script_params.lang};jQuery.post(a3_portfolio_script_params.ajax_url,j,function(a){}),jQuery("body").trigger("a3_portfolio_open_expander")})}var a=jQuery(window),b=a3_portfolio_script_params.number_columns,c=a3_portfolio_script_params.card_image_height_fixed,d=a3_portfolio_script_params.desktop_expander_top_alignment,e=a3_portfolio_script_params.mobile_expander_top_alignment,f=jQuery("html").width(),h=!1,i=null,j=0,k=600,l=600,m=!0,n=a3_portfolio_getUrlVars("#"),o=!jQuery.support.opacity,p=9==document.documentMode,q=!1;1==a3_portfolio_script_params.rtl&&(q=!0),jQuery(".a3-portfolio-menus-container").find("ul.filter li").each(function(){var a=jQuery(this).children("a").attr("data-filter"),b=jQuery(this).parents(".a3-portfolio-container");(".a3-portfolio-item"==a||b.find(".a3-portfolio-item"+a).length>0)&&jQuery(this).show()}),a3_portfolio_script_params.have_filters_script||jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),d=jQuery(this).find(".a3-portfolio-box-content"),e=jQuery(this).data("column");if("undefined"!=typeof e&&(b=e),f<=767&&f>=379&&b>2&&(b=2),0!=c){var g=d.find(".a3-portfolio-item").first().find(".a3-portfolio-item-block").innerWidth();g>50&&d.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(c)*g/100)}var j=a.innerWidth()/b;j>=300&&d.find(".a3-portfolio-item-block img").each(function(){var a=jQuery(this).attr("sizes");"undefined"!=typeof a&&jQuery(this).attr("sizes","(max-width: "+j+"px) 100vw, "+j+"px")});var k=a.find(".a3-portfolio-menus-container li a.active").attr("data-filter");"undefined"==typeof k&&(k=".a3-portfolio-item"),d.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=d.find(k),all_items_selector.each(function(a,b){0==a&&jQuery(this).addClass("a3-portfolio-item-first"),a==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),d.masonry({isRTL:q,itemSelector:".a3-portfolio-item",columnWidth:d.parent().width()/b,gutterWidth:(d.width()-d.parent().width())/b,transitionDuration:0}),d.masonry("on","layoutComplete",function(b,c){console.log("[a3 Portfolio] - Start load the layout");var e=a.find(".a3-portfolio-menus-container li a.active").attr("data-filter");if("undefined"==typeof e&&(e=".a3-portfolio-item"),d.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=d.find(e),all_items_selector.each(function(a,b){0==a&&jQuery(this).addClass("a3-portfolio-item-first"),a==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),n[0].split("item-").length>1&&0==h){h=!0;var f=parseInt(n[0].split("item-")[1],0),g=null,j=null;jQuery("body").find(".a3-portfolio-item").each(function(a,b){a==f&&(g=jQuery(this).find(".active.item img"),j=jQuery(this).find(".a3-portfolio-card-image-container img"))});var k=g.attr("data-original");"undefined"!=typeof k&&k!==!1&&(g.attr("src",k),g.removeAttr("data-original"));var l=g.attr("data-osrcset");"undefined"!=typeof l&&l!==!1&&(g.attr("srcset",l),g.removeAttr("data-osrcset")),g.removeClass("a3-portfolio-large-lazy"),g.imagesLoaded(function(){i=setInterval(function(){clearInterval(i),j.trigger("click")},3e3)})}})}),a.bind("load",function(){setTimeout(function(){console.log("[a3 Portfolio] - Start Load First Large Images inside the exapander of all Portfolio Items"),jQuery(".a3-portfolio-container").each(function(){jQuery(this).find("img.a3-portfolio-large-lazy").each(function(){var a=jQuery(this).attr("data-original");"undefined"!=typeof a&&a!==!1&&(jQuery(this).attr("src",a),jQuery(this).removeAttr("data-original"));var b=jQuery(this).attr("data-osrcset");"undefined"!=typeof b&&b!==!1&&(jQuery(this).attr("srcset",b),jQuery(this).removeAttr("data-osrcset")),jQuery(this).removeClass("a3-portfolio-large-lazy")})})},15e3)}),jQuery(document).on("click",".pg_grid_content",function(){var a=jQuery(this),b=jQuery("body").find(".a3-portfolio-item.active"),d=(b.parents(".a3-portfolio-box-content"),jQuery(this).parents(".a3-portfolio-inner-wrap").find(".a3-portfolio-item-image-container")),f=a.attr("data-osrcset");d.find("img").attr("srcset",""),"undefined"!=typeof f&&f!==!1&&d.find("img").attr("srcset",f),d.find("img").attr("src",a.attr("data-originalfull")),d.find(".a3-portfolio-loading").fadeIn(100,function(){d.find("img").imagesLoaded(function(){d.find(".a3-portfolio-loading").fadeOut(100),a.parent(".pg_grid").siblings(".pg_grid").removeClass("current_img"),a.parent(".pg_grid ").addClass("current_img");var c="";""!=a.attr("data-caption")&&(c='<div class="portfolio_caption_text">'+a.attr("data-caption")+"</div>"),d.find(".caption_text_container").html(c);var f=jQuery("body").find(".a3-portfolio-expander-popup"),g=f.find(".a3-portfolio-inner-wrap"),h=parseInt(g.css("paddingBottom"),0)+parseInt(g.css("paddingTop"),0),i=g.height()+h+parseInt(f.css("marginBottom"),0);if(f.height(jQuery(".a3-portfolio-inner-wrap").outerHeight()),f.height.length&&a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(f.data("itemstomove"),i,k),g.width()<=586){var j=b.offset().top+b.outerHeight()-e;jQuery("body,html").animate({scrollTop:j},{duration:k,queue:!1})}})})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-close",function(){var a=jQuery(this).parents(".a3-portfolio-container");a.find(".a3-portfolio-menus-container").slideUp("fast",function(){a.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-close").removeClass("fa-times").addClass("a3-portfolio-icon-list").addClass("fa-bars")})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-list",function(){var a=jQuery(this).parents(".a3-portfolio-container");a.find(".a3-portfolio-menus-container").slideDown("fast",function(){a.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-list").removeClass("fa-bars").addClass("a3-portfolio-icon-close").addClass("fa-times")})}),jQuery(document).on("click",".a3-portfolio-menus-container li a",function(){var a=jQuery(this).parents(".a3-portfolio-container"),b=a.find(".a3-portfolio-box-content"),c=jQuery(".a3-portfolio-container").find(".a3-portfolio-item.active");if(c.length>0){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var d=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){d.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(d.data("interval")),d.animate({height:"0px",opacity:"0"},{duration:k,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(d.data("itemstomove"),0,k)),setTimeout(function(){b.data("height",b.height())},k),o||p||a3_portfolio_updateURLParameter("")},150)}if(a.find(".a3-portfolio-menus-container li a").removeClass("active"),jQuery(this).addClass("active"),!a3_portfolio_script_params.have_filters_script){var e=jQuery(this).attr("data-filter");r(b,e)}return!1}),jQuery(document).on("click","ul.attribute-filter li a",function(){var a=jQuery(this).parents("ul.attribute-filter"),b=jQuery(this).parent("li");return b.hasClass("remove-filter")?(a.find("li").removeClass("active"),b.slideUp()):b.hasClass("active")?(b.removeClass("active"),a.find("li.remove-filter").slideUp()):(a.find("li").removeClass("active"),b.addClass("active"),a.find("li.remove-filter").slideDown()),jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a.find(".a3-portfolio-item.active");if(c.length>0){a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove();var d=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){d.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(d.data("interval")),d.animate({height:"0px",opacity:"0"},{duration:k,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(d.data("itemstomove"),0,k)),setTimeout(function(){b.data("height",b.height())},k),o||p||a3_portfolio_updateURLParameter("")},150)}}),a3_portfolio_script_params.have_filters_script||s(),!1}),jQuery(document).on("mouseenter touchstart",".a3-portfolio-item",function(){jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeIn(300)}),jQuery(document).on("mouseleave",".a3-portfolio-item",function(){jQuery(this).hasClass("active")||jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeOut(200)}),jQuery(document).on("click tap",".a3-portfolio-card-opens-expander",function(){var a=jQuery(this).parents(".a3-portfolio-item"),b=jQuery(this).parents(".a3-portfolio-container"),c=b.find(".a3-portfolio-box-content");if(jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),a.hasClass("active"))t(c),a.removeClass("active"),a3_portfolio_closeDetailView(c,k);else{console.log("[a3 Portfolio] - Loading all thumb images inside expander of Portfolio Index - "+a.data("index")),a.find("div.a3-portfolio-gallery-thumb-lazy").each(function(){"undefined"!=typeof jQuery(this).attr("data-bg")&&(jQuery(this).css("background-image","url("+jQuery(this).attr("data-bg")+")"),jQuery(this).removeClass("a3-portfolio-gallery-thumb-lazy"))}),a3_portfolio_updateURLParameter("item-"+a.index(".a3-portfolio-box-content .a3-portfolio-item")),a.addClass("latest-active"),a3_portfolio_removeActiveThumbs(),a.removeClass("latest-active"),a.addClass("active");var f=a.find(".a3-portfolio-item-expander-content .active.item img"),g=f.attr("data-original");"undefined"!=typeof g&&g!==!1&&(f.attr("src",g),f.removeAttr("data-original"));var h=f.attr("data-osrcset");"undefined"!=typeof h&&h!==!1&&(f.attr("srcset",h),f.removeAttr("data-osrcset")),f.removeClass("a3-portfolio-large-lazy");var i=jQuery("body").find(".a3-portfolio-expander-popup");if(i.length){var n=!1;clearInterval(i.data("interval")),i.animate({height:"0px",opacity:"0"},{duration:k,complete:function(){jQuery(this).remove()}});var o=k+50;a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(i.data("itemstomove"),0,k),setTimeout(function(){var b=jQuery("#wpadminbar");b.length>0&&(j=b.outerHeight());var g=a.outerHeight();if(jQuery("html").width()<=600)var h=a.offset().top+g-e;else var h=a.offset().top-j+g-d;jQuery("body,html").animate({scrollTop:h},{duration:l,queue:!1}),m?u(f,c,a,n):setTimeout(function(){u(f,c,a,n)},l)},o)}else{var p=jQuery("#wpadminbar");p.length>0&&(j=p.outerHeight());var q=a.outerHeight();if(jQuery("html").width()<=600)var r=a.offset().top+q-e;else var r=a.offset().top-j+q-d;jQuery("body,html").animate({scrollTop:r},{duration:l,queue:!1}),m?u(f,c,a):setTimeout(function(){u(f,c,a)},l)}}return!1}),jQuery(window).on("orientationchange",function(a){jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a3_portfolio_script_params.number_columns,d=jQuery("html").width(),e=a.data("column");"undefined"!=typeof e&&(c=e),d<=767&&d>=379&&c>2&&(c=2),a3_portfolio_closeDetailView(b,k),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||setTimeout(function(){b.masonry({isRTL:q,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c})},500)})}),jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this),b=a.find(".a3-portfolio-box-content"),c=a3_portfolio_script_params.number_columns,d=jQuery("html").width(),e=a.data("column");"undefined"!=typeof e&&(c=e),d<=767&&d>=379&&c>2&&(c=2),o?a3_portfolio_script_params.have_filters_script||b.masonry({isRTL:q,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c}):jQuery(window).bind("resize",function(){a3_portfolio_closeDetailView(b,k),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||b.masonry({isRTL:q,itemSelector:".a3-portfolio-item",columnWidth:b.parent().width()/c,gutterWidth:(b.width()-b.parent().width())/c})})}),0!=c&&jQuery(window).bind("resize",function(){jQuery(".a3-portfolio-container").each(function(){var a=jQuery(this).find(".a3-portfolio-box-content"),b=a.find(".a3-portfolio-item-first").find(".a3-portfolio-item-block").innerWidth();b>10&&a.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(c)*b/100)})})});