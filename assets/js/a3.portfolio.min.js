function a3_portfolio_getUrlVars(t){try{for(var o,i=[],e=window.location.href.slice(window.location.href.indexOf(t)+1).split("_"),a=0;a<e.length;a++)e[a]=e[a].replace("%3D","="),o=e[a].split("="),i.push(o[0]),i[o[0]]=o[1];return i}catch(t){}}function a3_portfolio_updateURLParameter(t){document.body.scrollTop;if(""==t&&window.location.href.indexOf("#")<0)return!1;window.location.pathname.split("#")[0].split("#")[0];void 0===t&&(t=""),par=0==t.length?"#":"#"+t,history.pushState?history.pushState(null,null,par):location.hash=par}function a3_portfolio_isiPhone(){return-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod")||-1!=navigator.platform.indexOf("iPad")}function a3_portfolio_is_iOS_8(){return!!~navigator.userAgent.indexOf("OS 8_")}function a3_portfolio_detectMobile(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function a3_portfolio_centerpdv(){try{var t=jQuery("body").find(".a3-portfolio-expander-popup"),o=jQuery("body").width()/2-t.width()/2;t.css({left:o+"px"})}catch(t){}}function a3_portfolio_removeActiveThumbs(){jQuery(".a3-portfolio-box-content").find(".a3-portfolio-item").each(function(){jQuery(this).removeClass("active"),jQuery(this).hasClass("latest-active")||jQuery(this).find("div.a3-portfolio-card-overlay").fadeOut(200)})}function a3_portfolio_closeDetailView(t,o){var i=9==document.documentMode;jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery(".a3-portfolio-container").removeClass("a3-portfolio-fixed-scroll");var e=jQuery("body").find(".a3-portfolio-expander-popup");setTimeout(function(){e.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(e.data("interval")),e.animate({height:"0px",opacity:"0"},{duration:o,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(e.data("itemstomove"),0,o)),setTimeout(function(){jQuery(".a3-portfolio-container").each(function(){0;var t=jQuery(this).find(".a3-portfolio-box-content");t.data("height",t.height())}),setTimeout(function(){},o)},o),i||a3_portfolio_updateURLParameter("")},150)}function add_arrow_active_thumb(){var t=jQuery("body").find(".a3-portfolio-item.active");jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),jQuery("body").append('<div class="a3-portfolio-activate-up-arrow" style="opacity: 0;"></div>');var o=jQuery(".a3-portfolio-activate-up-arrow"),i=t.offset().left+(t.width()/2-10);thumb_pos_top=t.offset().top+t.height()+parseInt(t.css("marginBottom"),0)-12,o.css({top:thumb_pos_top,left:i,display:"block",opacity:1})}function a3_portfolio_moveThumbs(t,i,e){var a=9==document.documentMode;jQuery.each(t,function(){var t=jQuery(this);t.stop(!0),t.animate({top:t.data("top")+i+"px"},{duration:e,queue:!1})});jQuery(".a3-portfolio-container").each(function(){0;var t=jQuery(this).find(".a3-portfolio-box-content"),o=t.data("height");0<t.find(".a3-portfolio-item.active").length&&(o+=i),a?(t.stop(!0),t.animate({height:o+"px"},{duration:e,queue:!1})):t.css({height:Math.round(o)+"px"})})}jQuery(document).ready(function(){var t=jQuery(window),e=a3_portfolio_script_params.number_columns,a=a3_portfolio_script_params.card_image_height_fixed,r=a3_portfolio_script_params.desktop_expander_top_alignment,n=a3_portfolio_script_params.mobile_expander_top_alignment,p=jQuery("html").width(),f=!1,c=null,l=0,s=0,d=600,u=600,m=a3_portfolio_getUrlVars("#"),h=9==document.documentMode,_=!1;function v(t){var o=0,i=jQuery("#wpadminbar");0<i.length&&(o=i.outerHeight());var e=a3_portfolio_script_params.desktop_expander_top_alignment,a=a3_portfolio_script_params.mobile_expander_top_alignment,r=0,i=jQuery(".toolbar-ctn");0<i.length&&(r=i.outerHeight());t=t.find(".a3-portfolio-item.active");e=jQuery("html").width()<=600?t.offset().top-r-20-a:t.offset().top-o-r-20-e,jQuery("body,html").animate({scrollTop:e},{duration:u,queue:!1})}function y(t,o,i,e){jQuery("body").find(".a3-portfolio-activate-up-arrow").css({opacity:1}),currentTop=e.position().top,thumbOffsetTop=e.offset().top;var a=[];i.find(".a3-portfolio-item").each(function(){var t=jQuery(this);t.position().top>currentTop&&a.push(t)}),jQuery.each(a,function(){var t=jQuery(this);t.data("oldPos",t.position().top)}),i.data("height"),i.data("height",i.height()),jQuery("body").append(a3_portfolio_script_params.expander_template).find(".a3-portfolio-inner-wrap").append(e.children(".a3-portfolio-item-expander-content").html());var r=jQuery("body").find(".a3-portfolio-expander-popup");r.attr("container-id",t),r.css({maxWidth:jQuery("body").innerWidth()});var t=r.find(".closebutton"),n=r.find(".a3-portfolio-inner-wrap"),l=parseInt(n.css("paddingBottom"),0)+parseInt(n.css("paddingTop"),0),s=0;s=n.width()<=586?(r.addClass("a3-portfolio-expander-popup-mobile"),50):(r.removeClass("a3-portfolio-expander-popup-mobile"),0),t.on("click",function(){v(i),a3_portfolio_closeDetailView(i,d)}),r.children(".a3-portfolio-loading").fadeIn(),r.animate({height:"300px"},{duration:d,queue:!1}),r.data("itemstomove",a),r.css({top:thumbOffsetTop+e.height()+parseInt(e.css("marginBottom"),0)-2+"px"}),add_arrow_active_thumb(),a3_portfolio_centerpdv(),o.imagesLoaded(function(){var t=n.height()+s+l+parseInt(r.css("marginBottom"),0);try{new Function(e.data("callback"))()}catch(t){}jQuery.each(a,function(){var t=jQuery(this);t.data("top",parseInt(t.position().top,0))}),r.animate({height:Math.round(n.height()+l)+"px"},{duration:d,queue:!1,complete:function(){r.children(".a3-portfolio-loading").fadeOut()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(a,t,d);t={action:"a3_portfolio_set_cookie",portfolio_id:r.find(".a3-portfolio-item-image-container").attr("data-portfolioId"),lang:a3_portfolio_script_params.lang};jQuery.post(a3_portfolio_script_params.ajax_url,t,function(t){}),jQuery("body").trigger("a3_portfolio_open_expander")})}1==a3_portfolio_script_params.rtl&&(_=!0),jQuery(".a3-portfolio-menus-container").find("ul.filter li").each(function(){var t=jQuery(this).children("a").attr("data-filter"),o=jQuery(this).parents(".a3-portfolio-container");(".a3-portfolio-item"==t||0<o.find(".a3-portfolio-item"+t).length)&&jQuery(this).show()}),a3_portfolio_script_params.have_filters_script||jQuery(".a3-portfolio-container").each(function(){var l=jQuery(this),s=jQuery(this).find(".a3-portfolio-box-content"),t=jQuery(this).data("column");void 0!==t&&(e=t),p<=767&&379<=p&&2<e&&(e=2),0==a||50<(i=s.find(".a3-portfolio-item").first().find(".a3-portfolio-item-block").innerWidth())&&s.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(a)*i/100);var o=l.innerWidth()/e;300<=o&&s.find(".a3-portfolio-item-block img").each(function(){void 0!==jQuery(this).attr("sizes")&&jQuery(this).attr("sizes","(max-width: "+o+"px) 100vw, "+o+"px")});var i=l.find(".a3-portfolio-menus-container li a.active").attr("data-filter");void 0===i&&(i=".a3-portfolio-item"),s.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=s.find(i),all_items_selector.each(function(t,o){0==t&&jQuery(this).addClass("a3-portfolio-item-first"),t==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),s.on("layoutComplete",function(t,o){console.log("[a3 Portfolio] - Start load the layout");var i,e,a,r,n=l.find(".a3-portfolio-menus-container li a.active").attr("data-filter");void 0===n&&(n=".a3-portfolio-item"),s.find(".a3-portfolio-item").removeClass("a3-portfolio-item-first a3-portfolio-item-last"),all_items_selector=s.find(n),all_items_selector.each(function(t,o){0==t&&jQuery(this).addClass("a3-portfolio-item-first"),t==all_items_selector.length-1&&jQuery(this).addClass("a3-portfolio-item-last")}),1<m[0].split("item-").length&&0==f&&(f=!0,i=parseInt(m[0].split("item-")[1],0),r=a=e=null,jQuery("body").find(".a3-portfolio-item").each(function(t,o){t==i&&(e=jQuery(this).find(".active.item img"),a=jQuery(this).find(".a3-portfolio-card-image-container .a3-portfolio-card-opens-expander"),r=jQuery(this).find(".a3-portfolio-card-viewmore .a3-portfolio-card-opens-expander"))}),void 0!==(n=e.attr("data-original"))&&!1!==n&&(e.attr("src",n),e.removeAttr("data-original")),void 0!==(n=e.attr("data-osrcset"))&&!1!==n&&(e.attr("srcset",n),e.removeAttr("data-osrcset")),e.removeClass("a3-portfolio-large-lazy"),e.imagesLoaded(function(){c=setInterval(function(){clearInterval(c),0<a.length?a.trigger("click"):0<r.length&&r.trigger("click")},3e3)}))}),s.masonry({isRTL:_,itemSelector:".a3-portfolio-item",columnWidth:s.parent().width()/e,gutterWidth:(s.width()-s.parent().width())/e,transitionDuration:0})}),t.on("load",function(){setTimeout(function(){console.log("[a3 Portfolio] - Start Load First Large Images inside the exapander of all Portfolio Items"),jQuery(".a3-portfolio-container").each(function(){jQuery(this).find("img.a3-portfolio-large-lazy").each(function(){var t=jQuery(this).attr("data-original");void 0!==t&&!1!==t&&(jQuery(this).attr("src",t),jQuery(this).removeAttr("data-original"));t=jQuery(this).attr("data-osrcset");void 0!==t&&!1!==t&&(jQuery(this).attr("srcset",t),jQuery(this).removeAttr("data-osrcset")),jQuery(this).removeClass("a3-portfolio-large-lazy")})})},15e3)}),jQuery(document).on("click",".pg_grid_content",function(){var e=jQuery(this),a=jQuery("body").find(".a3-portfolio-item.active"),r=(a.parents(".a3-portfolio-box-content"),jQuery(this).parents(".a3-portfolio-inner-wrap").find(".a3-portfolio-item-image-container")),t=e.attr("data-osrcset");r.find("img").attr("srcset",""),void 0!==t&&!1!==t&&r.find("img").attr("srcset",t),r.find("img").attr("src",e.attr("data-originalfull")),r.find(".a3-portfolio-loading").fadeIn(100,function(){r.find("img").imagesLoaded(function(){r.find(".a3-portfolio-loading").fadeOut(100),e.parent(".pg_grid").siblings(".pg_grid").removeClass("current_img"),e.parent(".pg_grid ").addClass("current_img");var t="";""!=e.attr("data-caption")&&(t='<div class="portfolio_caption_text">'+e.attr("data-caption")+"</div>"),r.find(".caption_text_container").html(t);var o=jQuery("body").find(".a3-portfolio-expander-popup"),i=o.find(".a3-portfolio-inner-wrap"),t=parseInt(i.css("paddingBottom"),0)+parseInt(i.css("paddingTop"),0),t=i.height()+t+parseInt(o.css("marginBottom"),0);o.height(jQuery(".a3-portfolio-inner-wrap").outerHeight()),o.height.length&&a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(o.data("itemstomove"),t,d),i.width()<=586&&(i=a.offset().top+a.outerHeight()-n,jQuery("body,html").animate({scrollTop:i},{duration:d,queue:!1}))})})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-close",function(){var t=jQuery(this).parents(".a3-portfolio-container");t.find(".a3-portfolio-menus-container").slideUp("fast",function(){t.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-close").addClass("a3-portfolio-icon-list").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M48 128c-17.7 0-32 14.3-32 32s14.3 32 32 32H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H48zm0 192c-17.7 0-32 14.3-32 32s14.3 32 32 32H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H48z"/></svg>')})}),jQuery(document).on("click tap",".a3-portfolio-navigation-mobile .a3-portfolio-icon-list",function(){var t=jQuery(this).parents(".a3-portfolio-container");t.find(".a3-portfolio-menus-container").slideDown("fast",function(){t.find(".a3-portfolio-navigation-mobile-icon").removeClass("a3-portfolio-icon-list").addClass("a3-portfolio-icon-close").html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>')})}),jQuery(document).on("click",".a3-portfolio-menus-container li a",function(){var t,i,o,e=jQuery(this).parents(".a3-portfolio-container"),a=e.find(".a3-portfolio-box-content");return 0<jQuery(".a3-portfolio-container").find(".a3-portfolio-item.active").length&&(a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),t=jQuery("body").find(".a3-portfolio-expander-popup"),setTimeout(function(){t.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(t.data("interval")),t.animate({height:"0px",opacity:"0"},{duration:d,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(t.data("itemstomove"),0,d)),setTimeout(function(){a.data("height",a.height())},d),h||a3_portfolio_updateURLParameter("")},150)),e.find(".a3-portfolio-menus-container li a").removeClass("active"),jQuery(this).addClass("active"),a3_portfolio_script_params.have_filters_script||(e=jQuery(this).attr("data-filter"),i=a,e=e,o=[],jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&o.push(filter_class)})}),void 0!==e&&""!=e&&o.push(e),attribute_term_classes_text="",jQuery.each(o,function(t,o){i.find(".a3-portfolio-item").not(o).hide(),attribute_term_classes_text+=o}),i.find(".a3-portfolio-item"+attribute_term_classes_text).show(),i.masonry()),!1}),jQuery(document).on("click","ul.attribute-filter li a",function(){var t,o=jQuery(this).parents("ul.attribute-filter"),i=jQuery(this).parent("li");return i.hasClass("remove-filter")?(o.find("li").removeClass("active"),i.slideUp()):i.hasClass("active")?(i.removeClass("active"),o.find("li.remove-filter").slideUp()):(o.find("li").removeClass("active"),i.addClass("active"),o.find("li.remove-filter").slideDown()),jQuery(".a3-portfolio-container").each(function(){var t,o=jQuery(this),i=o.find(".a3-portfolio-box-content");0<o.find(".a3-portfolio-item.active").length&&(a3_portfolio_updateURLParameter(""),jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),t=jQuery("body").find(".a3-portfolio-expander-popup"),setTimeout(function(){t.length&&(a3_portfolio_removeActiveThumbs(),clearInterval(t.data("interval")),t.animate({height:"0px",opacity:"0"},{duration:d,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(t.data("itemstomove"),0,d)),setTimeout(function(){i.data("height",i.height())},d),h||a3_portfolio_updateURLParameter("")},150))}),a3_portfolio_script_params.have_filters_script||(t=[],jQuery("ul.attribute-filter").each(function(){jQuery(this).find("li.active").each(function(){filter_class=jQuery(this).children("a").attr("data-filter"),""!=filter_class&&t.push(filter_class)})}),jQuery(".a3-portfolio-container").each(function(){portfolio_boxes=jQuery(this).find(".a3-portfolio-box-content"),filter_class=jQuery(this).find(".a3-portfolio-menus-container li a.active").attr("data-filter"),"undefined"!=typeof filter_class&&""!=filter_class&&t.push(filter_class),attribute_term_classes_text="",jQuery.each(t,function(t,o){portfolio_boxes.find(".a3-portfolio-item").not(o).hide(),attribute_term_classes_text+=o}),portfolio_boxes.find(".a3-portfolio-item"+attribute_term_classes_text).show(),portfolio_boxes.masonry()})),!1}),jQuery(document).on("mouseenter touchstart",".a3-portfolio-item",function(){jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeIn(300)}),jQuery(document).on("mouseleave",".a3-portfolio-item",function(){jQuery(this).hasClass("active")||jQuery(this).find(".a3-portfolio-item-block").find("div.a3-portfolio-card-overlay").fadeOut(200)}),jQuery(document).on("click tap",".a3-portfolio-card-opens-expander",function(){var o,i=jQuery(this).parents(".a3-portfolio-item"),t=jQuery(this).parents(".a3-portfolio-container"),e=t.data("container-id"),a=t.find(".a3-portfolio-box-content");return jQuery("body").find(".a3-portfolio-activate-up-arrow").remove(),i.hasClass("active")?(v(a),i.removeClass("active"),a3_portfolio_closeDetailView(a,d)):(console.log("[a3 Portfolio] - Loading all thumb images inside expander of Portfolio Index - "+i.data("index")),i.find("div.a3-portfolio-gallery-thumb-lazy").each(function(){void 0!==jQuery(this).attr("data-bg")&&(jQuery(this).css("background-image","url("+jQuery(this).attr("data-bg")+")"),jQuery(this).removeClass("a3-portfolio-gallery-thumb-lazy"))}),a3_portfolio_updateURLParameter("item-"+i.index(".a3-portfolio-box-content .a3-portfolio-item")),i.addClass("latest-active"),a3_portfolio_removeActiveThumbs(),i.removeClass("latest-active"),i.addClass("active"),void 0!==(t=(o=i.find(".a3-portfolio-item-expander-content .active.item img")).attr("data-original"))&&!1!==t&&(o.attr("src",t),o.removeAttr("data-original")),void 0!==(t=o.attr("data-osrcset"))&&!1!==t&&(o.attr("srcset",t),o.removeAttr("data-osrcset")),o.removeClass("a3-portfolio-large-lazy"),(t=jQuery("body").find(".a3-portfolio-expander-popup")).length?(clearInterval(t.data("interval")),t.animate({height:"0px",opacity:"0"},{duration:d,complete:function(){jQuery(this).remove()}}),a3_portfolio_script_params.have_filters_script&&a3_portfolio_moveThumbs(t.data("itemstomove"),0,d),setTimeout(function(){var t=jQuery("#wpadminbar");0<t.length&&(l=t.outerHeight());t=jQuery(".toolbar-ctn");0<t.length&&(s=t.outerHeight());t=i.outerHeight();t=jQuery("html").width()<=600?i.offset().top-s+t-n:i.offset().top-l-s+t-r,jQuery("body,html").animate({scrollTop:t},{duration:u,queue:!1}),y(e,o,a,i)},650)):(0<(t=jQuery("#wpadminbar")).length&&(l=t.outerHeight()),0<(t=jQuery(".toolbar-ctn")).length&&(s=t.outerHeight()),t=i.outerHeight(),t=jQuery("html").width()<=600?i.offset().top-s+t-n:i.offset().top-l-s+t-r,jQuery("body,html").animate({scrollTop:t},{duration:u,queue:!1}),y(e,o,a,i))),!1}),jQuery(window).on("orientationchange",function(t){jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),o=t.find(".a3-portfolio-box-content"),i=a3_portfolio_script_params.number_columns,e=jQuery("html").width(),t=t.data("column");void 0!==t&&(i=t),e<=767&&379<=e&&2<i&&(i=2),a3_portfolio_closeDetailView(o,d),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||setTimeout(function(){o.masonry({isRTL:_,itemSelector:".a3-portfolio-item",columnWidth:o.parent().width()/i,gutterWidth:(o.width()-o.parent().width())/i})},500)})}),jQuery(document).on("lazyload",".a3-portfolio-thumb-lazy",function(t){jQuery(this).parents(".a3-portfolio-container").find(".a3-portfolio-box-content").masonry()}),jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this),o=t.find(".a3-portfolio-box-content"),i=a3_portfolio_script_params.number_columns,e=jQuery("html").width(),t=t.data("column");void 0!==t&&(i=t),e<=767&&379<=e&&2<i&&(i=2),jQuery(window).on("resize",function(){767<jQuery("html").width()&&(a3_portfolio_closeDetailView(o,d),a3_portfolio_centerpdv(),a3_portfolio_script_params.have_filters_script||o.masonry({isRTL:_,itemSelector:".a3-portfolio-item",columnWidth:o.parent().width()/i,gutterWidth:(o.width()-o.parent().width())/i}))})}),0!=a&&jQuery(window).on("resize",function(){jQuery(".a3-portfolio-container").each(function(){var t=jQuery(this).find(".a3-portfolio-box-content"),o=t.find(".a3-portfolio-item-first").find(".a3-portfolio-item-block").innerWidth();10<o&&t.find(".a3-portfolio-item-block").find(".a3-portfolio-card-image-container").height(parseInt(a)*o/100)})})});